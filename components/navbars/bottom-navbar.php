<?php
$count = 0;
if(isset($_SESSION['cart'])){
    $cartData = $_SESSION['cart'];
    
    foreach ($cartData as $key => $value) {
        $count = $count+$value;
    }
}

if( $_SESSION['isAuthenticated']){
    $user_id = $_SESSION['user_id'];
    $sql = "SELECT * FROM USERS WHERE USER_ID=$user_id";
    $stid = oci_parse($conn,$sql );
    oci_execute($stid);
    
    
    
    while (($row = oci_fetch_object($stid)) != false) {
        // Use upper case attribute names for each standard Oracle column
       
        $userImage= $row->USER_IMAGE;
        
    }
}

?>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div class="bottom-nav">

<!-- Home icon -->
    <div class="bottom-nav__element">
        <a href="index.php">
        
        <?php 
        if($isCustomer){
            ?>
          <svg width="38" height="32" viewBox="0 0 38 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.3334 31.6667V20.6667H22.6667V31.6667H31.8334V17H37.3334L19.0001 0.5L0.666748 17H6.16675V31.6667H15.3334Z" fill="currentColor"/>
        </svg>
        <?php
        }
        else{
            ?>
        <svg width="38" height="32" viewBox="0 0 38 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.3334 31.6667V20.6667H22.6667V31.6667H31.8334V17H37.3334L19.0001 0.5L0.666748 17H6.16675V31.6667H15.3334Z" fill="currentColor"/>
        </svg>
            <?php

        }
        ?>
      
        </a>
        

    </div>

     <!-- Search icon -->
     <div class="bottom-nav__element">

     <?php
            if($isCustomer){
                ?>
        <a href="./mobilesearch.php"><svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M25 22H23.42L22.86 21.46C24.82 19.18 26 16.22 26 13C26 5.82 20.18 0 13 0C5.82 0 0 5.82 0 13C0 20.18 5.82 26 13 26C16.22 26 19.18 24.82 21.46 22.86L22 23.42V25L32 34.98L34.98 32L25 22V22ZM13 22C8.02 22 4 17.98 4 13C4 8.02 8.02 4 13 4C17.98 4 22 8.02 22 13C22 17.98 17.98 22 13 22Z" fill="currentColor"/>
        </svg></a>
                <?php
            }
            else{
            ?>

            <a href="products-review.php">
            <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M25 22H23.42L22.86 21.46C24.82 19.18 26 16.22 26 13C26 5.82 20.18 0 13 0C5.82 0 0 5.82 0 13C0 20.18 5.82 26 13 26C16.22 26 19.18 24.82 21.46 22.86L22 23.42V25L32 34.98L34.98 32L25 22V22ZM13 22C8.02 22 4 17.98 4 13C4 8.02 8.02 4 13 4C17.98 4 22 8.02 22 13C22 17.98 17.98 22 13 22Z" fill="currentColor"/>
        </svg>
            </a>

            <?php
            }
            ?>

        
      
            

    </div>

     <!-- Cart icon -->
     <div class="bottom-nav__element">
         <?php
            if($isCustomer){
                ?>
 <a href="cart.php">

        
<div class="nav-links__cart">
    <div class="nav-links__cart__main">

        <svg width="43" height="44" viewBox="0 0 43 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_8_16)">
            <path d="M21.0645 1.98288C25.3692 1.98288 29.4975 3.80872 32.5414 7.05899C35.5853 10.3093 37.2953 14.7178 37.2953 19.3143H39.1523C39.1523 14.1919 37.2466 9.27923 33.8545 5.6571C30.4623 2.03497 25.8617 6.10352e-05 21.0645 6.10352e-05C16.2673 6.10352e-05 11.6666 2.03497 8.27448 5.6571C4.88236 9.27923 2.97668 14.1919 2.97668 19.3143H4.83363C4.83363 14.7178 6.54366 10.3093 9.58754 7.05899C12.6314 3.80872 16.7598 1.98288 21.0645 1.98288V1.98288Z" fill="currentColor"/>
            <path d="M26.01 25.5738L20.7262 21.2692L14.5747 21.0715L23.046 27.9431L26.01 25.5738Z" fill="currentColor"/>
            <path d="M26.9969 31.2329L35.0382 37.7416C35.951 36.8772 36.7922 35.9301 37.5525 34.9112L30.0941 28.8756L26.9969 31.2329Z" fill="currentColor"/>
            <path d="M13.9714 25.3146L8.98573 21.2692L3.07458 21.359L11.005 27.7788L13.9714 25.3146Z" fill="currentColor"/>
            <path d="M38.1015 25.5174L32.5918 21.0587L26.7672 21.2102L35.0318 27.8969L38.1015 25.5174Z" fill="currentColor"/>
            <path d="M27.1467 40.7102L28.5262 41.9501C29.7937 41.4372 31.0118 40.7946 32.1632 40.0309L30.1632 38.4112L27.1467 40.7102Z" fill="currentColor"/>
            <path d="M15.0796 31.0721L23.0316 37.5073L25.9523 35.0071L18.0003 28.572L15.0796 31.0721Z" fill="currentColor"/>
            <path d="M0.194946 24.0022C0.298262 24.8049 0.442298 25.601 0.626419 26.3871L1.86081 25.3502L0.194946 24.0022Z" fill="currentColor"/>
            <path d="M14.9458 40.7966L17.8446 43.1423C19.8574 43.4712 21.904 43.4896 23.9217 43.1968L17.9126 38.3344L14.9458 40.7966Z" fill="currentColor"/>
            <path d="M13.7839 34.9969L5.87029 28.5925L2.95679 31.0978L10.8704 37.5021L13.7839 34.9969Z" fill="currentColor"/>
            <path d="M39.3263 21.2715L41.9716 23.7014C42.0605 22.9346 42.1126 22.1634 42.1277 21.3909L39.3263 21.2715Z" fill="currentColor"/>
            <path d="M26.5845 35.5487L23.7335 37.7357L20.8176 39.9715L23.8273 42.4049L26.7432 40.1691L29.5942 37.9822L32.3034 35.9081L29.2937 33.4721L26.5845 35.5487Z" fill="currentColor"/>
            <path d="M33.4408 30.2665L35.9828 32.4182L40.8614 28.6218C41.2875 27.3746 41.6086 26.0893 41.8209 24.7812L41.3838 23.9577L33.4408 30.2665Z" fill="currentColor"/>
            <path d="M26.3128 21.1896L21.5411 21.146L23.8561 23.0121L26.3128 21.1896Z" fill="currentColor"/>
            <path d="M8.91357 30.0377L11.8728 32.507L14.9593 30.0325L17.4882 28.1587L19.6036 26.4646L16.8488 23.9721L14.5266 25.7638L11.4352 28.1279L8.91357 30.0377Z" fill="currentColor"/>
            <path d="M3.94531 34.0216C4.67734 35.1088 5.49834 36.1242 6.39864 37.0563L7.5951 36.0966L4.50051 33.576L3.94531 34.0216Z" fill="currentColor"/>
            <path d="M13.892 21.0536L9.49768 21.1049L11.8391 22.799L13.892 21.0536Z" fill="currentColor"/>
            <path d="M7.76281 26.2859L4.88104 23.5946L2.2755 25.6846L0.75415 26.905C1.10077 28.2459 1.56392 29.5494 2.13756 30.7983L2.36252 30.6178L5.38059 28.1966L7.76281 26.2859Z" fill="currentColor"/>
            <path d="M20.9739 30.2764L24.0148 32.738L26.4451 30.7872L29.4644 28.3666L32.1904 26.1796L29.1182 23.7437L26.4211 25.905L23.4042 28.3281L20.9739 30.2764Z" fill="currentColor"/>
            <path d="M38.2818 21.3077L33.8442 21.3051L36.0606 23.3073L38.2818 21.3077Z" fill="currentColor"/>
            <path d="M19.7853 36.1304L16.8324 33.5986L14.4348 35.5219L11.4168 37.9431L9.3457 39.6044C10.4667 40.4074 11.6576 41.0932 12.9018 41.6524L14.4584 40.4037L17.4764 37.9825L19.7853 36.1304Z" fill="currentColor"/>
            <path d="M2.96293 21.3536H0C0.0149838 22.1476 0.069001 22.9404 0.161829 23.7284L0.438612 23.9136L2.96293 21.3536Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0_8_16">
            <rect width="42.1277" height="43.4035" fill="white"/>
            </clipPath>
            </defs>
            </svg>
            

            <div class="nav-links__cart__counter">
            <?php
               echo "$count";
             ?>
            </div>
    </div>
   

</div>

    </a>
                <?php
            } 
            else{
            ?>
 <a href="productDiscount.php">

        
<div class="nav-links__cart">
    <div class="nav-links__cart__main">

        <svg width="43" height="44" viewBox="0 0 43 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_8_16)">
            <path d="M21.0645 1.98288C25.3692 1.98288 29.4975 3.80872 32.5414 7.05899C35.5853 10.3093 37.2953 14.7178 37.2953 19.3143H39.1523C39.1523 14.1919 37.2466 9.27923 33.8545 5.6571C30.4623 2.03497 25.8617 6.10352e-05 21.0645 6.10352e-05C16.2673 6.10352e-05 11.6666 2.03497 8.27448 5.6571C4.88236 9.27923 2.97668 14.1919 2.97668 19.3143H4.83363C4.83363 14.7178 6.54366 10.3093 9.58754 7.05899C12.6314 3.80872 16.7598 1.98288 21.0645 1.98288V1.98288Z" fill="currentColor"/>
            <path d="M26.01 25.5738L20.7262 21.2692L14.5747 21.0715L23.046 27.9431L26.01 25.5738Z" fill="currentColor"/>
            <path d="M26.9969 31.2329L35.0382 37.7416C35.951 36.8772 36.7922 35.9301 37.5525 34.9112L30.0941 28.8756L26.9969 31.2329Z" fill="currentColor"/>
            <path d="M13.9714 25.3146L8.98573 21.2692L3.07458 21.359L11.005 27.7788L13.9714 25.3146Z" fill="currentColor"/>
            <path d="M38.1015 25.5174L32.5918 21.0587L26.7672 21.2102L35.0318 27.8969L38.1015 25.5174Z" fill="currentColor"/>
            <path d="M27.1467 40.7102L28.5262 41.9501C29.7937 41.4372 31.0118 40.7946 32.1632 40.0309L30.1632 38.4112L27.1467 40.7102Z" fill="currentColor"/>
            <path d="M15.0796 31.0721L23.0316 37.5073L25.9523 35.0071L18.0003 28.572L15.0796 31.0721Z" fill="currentColor"/>
            <path d="M0.194946 24.0022C0.298262 24.8049 0.442298 25.601 0.626419 26.3871L1.86081 25.3502L0.194946 24.0022Z" fill="currentColor"/>
            <path d="M14.9458 40.7966L17.8446 43.1423C19.8574 43.4712 21.904 43.4896 23.9217 43.1968L17.9126 38.3344L14.9458 40.7966Z" fill="currentColor"/>
            <path d="M13.7839 34.9969L5.87029 28.5925L2.95679 31.0978L10.8704 37.5021L13.7839 34.9969Z" fill="currentColor"/>
            <path d="M39.3263 21.2715L41.9716 23.7014C42.0605 22.9346 42.1126 22.1634 42.1277 21.3909L39.3263 21.2715Z" fill="currentColor"/>
            <path d="M26.5845 35.5487L23.7335 37.7357L20.8176 39.9715L23.8273 42.4049L26.7432 40.1691L29.5942 37.9822L32.3034 35.9081L29.2937 33.4721L26.5845 35.5487Z" fill="currentColor"/>
            <path d="M33.4408 30.2665L35.9828 32.4182L40.8614 28.6218C41.2875 27.3746 41.6086 26.0893 41.8209 24.7812L41.3838 23.9577L33.4408 30.2665Z" fill="currentColor"/>
            <path d="M26.3128 21.1896L21.5411 21.146L23.8561 23.0121L26.3128 21.1896Z" fill="currentColor"/>
            <path d="M8.91357 30.0377L11.8728 32.507L14.9593 30.0325L17.4882 28.1587L19.6036 26.4646L16.8488 23.9721L14.5266 25.7638L11.4352 28.1279L8.91357 30.0377Z" fill="currentColor"/>
            <path d="M3.94531 34.0216C4.67734 35.1088 5.49834 36.1242 6.39864 37.0563L7.5951 36.0966L4.50051 33.576L3.94531 34.0216Z" fill="currentColor"/>
            <path d="M13.892 21.0536L9.49768 21.1049L11.8391 22.799L13.892 21.0536Z" fill="currentColor"/>
            <path d="M7.76281 26.2859L4.88104 23.5946L2.2755 25.6846L0.75415 26.905C1.10077 28.2459 1.56392 29.5494 2.13756 30.7983L2.36252 30.6178L5.38059 28.1966L7.76281 26.2859Z" fill="currentColor"/>
            <path d="M20.9739 30.2764L24.0148 32.738L26.4451 30.7872L29.4644 28.3666L32.1904 26.1796L29.1182 23.7437L26.4211 25.905L23.4042 28.3281L20.9739 30.2764Z" fill="currentColor"/>
            <path d="M38.2818 21.3077L33.8442 21.3051L36.0606 23.3073L38.2818 21.3077Z" fill="currentColor"/>
            <path d="M19.7853 36.1304L16.8324 33.5986L14.4348 35.5219L11.4168 37.9431L9.3457 39.6044C10.4667 40.4074 11.6576 41.0932 12.9018 41.6524L14.4584 40.4037L17.4764 37.9825L19.7853 36.1304Z" fill="currentColor"/>
            <path d="M2.96293 21.3536H0C0.0149838 22.1476 0.069001 22.9404 0.161829 23.7284L0.438612 23.9136L2.96293 21.3536Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0_8_16">
            <rect width="42.1277" height="43.4035" fill="white"/>
            </clipPath>
            </defs>
            </svg>
            
    </div>
   

</div>

    </a>
            <?php
            }
            ?>
         
        

   
   
        </div>

     <!-- Account icon -->
     <div class="bottom-nav__element
     
     ">
         <a href="account-settings.php">

         <?php
                            if(isset($userImage) && strlen($userImage)>0){
                                echo "<img class='navbar-profile-picture navbar-profile-picture--mobile' src='./assets/images/profiles/$userImage'/>";
                            }
                            else{
                                echo '<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.9999 0.333313C10.0399 0.333313 0.333252 10.04 0.333252 22C0.333252 33.96 10.0399 43.6667 21.9999 43.6667C33.9599 43.6667 43.6666 33.96 43.6666 22C43.6666 10.04 33.9599 0.333313 21.9999 0.333313ZM21.9999 6.83331C25.5966 6.83331 28.4999 9.73665 28.4999 13.3333C28.4999 16.93 25.5966 19.8333 21.9999 19.8333C18.4033 19.8333 15.4999 16.93 15.4999 13.3333C15.4999 9.73665 18.4033 6.83331 21.9999 6.83331ZM21.9999 37.6C16.5833 37.6 11.7949 34.8266 8.99992 30.6233C9.06492 26.3116 17.6666 23.95 21.9999 23.95C26.3116 23.95 34.9349 26.3116 34.9999 30.6233C32.2049 34.8266 27.4166 37.6 21.9999 37.6Z" fill="currentColor"/>
                            </svg>';
                            }
                        ?>
       
       
    
    </a>

    </div>




</div>
</body>
</html>